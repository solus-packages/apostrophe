From 2b65ab90a49190b0768184ed4a42a57017dec4b6 Mon Sep 17 00:00:00 2001
From: Pierre-Yves <pyu@riseup.net>
Date: Thu, 1 Nov 2018 20:26:57 +0100
Subject: [PATCH] Fix wrong paths

Signed-off-by: Pierre-Yves <pyu@riseup.net>
---
 setup.py                           | 8 ++++----
 uberwriter_lib/uberwriterconfig.py | 2 +-
 2 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/setup.py b/setup.py
index a86f826..21c9d83 100644
--- a/setup.py
+++ b/setup.py
@@ -40,7 +40,7 @@ if os.path.isfile("/.flatpak-info"):
     app_prefix = '/app/'
     print("in flatpak")
 else:
-    app_prefix = ''
+    app_prefix = '/usr'
 
 setup(
     name='uberwriter',
@@ -80,8 +80,8 @@ setup(
         (app_prefix + '/share/glib-2.0/schemas', ['data/de.wolfvollprecht.UberWriter.gschema.xml']),
         (app_prefix + '/share/icons/hicolor/scalable/apps', ['data/media/uberwriter.svg']),
         (app_prefix + '/share/applications', ['de.wolfvollprecht.UberWriter.desktop']),
-        (app_prefix + '/opt/uberwriter/data/ui', extra_files_ui),
-        (app_prefix + '/opt/uberwriter/data/media', extra_files_media),
-        (app_prefix + '/opt/uberwriter/data/lua', extra_files_scripts)
+        (app_prefix + '/share/uberwriter/data/ui', extra_files_ui),
+        (app_prefix + '/share/uberwriter/data/media', extra_files_media),
+        (app_prefix + '/share/uberwriter/data/lua', extra_files_scripts)
     ]
 )
diff --git a/uberwriter_lib/uberwriterconfig.py b/uberwriter_lib/uberwriterconfig.py
index 38e694c..88b2f71 100644
--- a/uberwriter_lib/uberwriterconfig.py
+++ b/uberwriter_lib/uberwriterconfig.py
@@ -66,7 +66,7 @@ def get_data_path():
     # in the system installation path
     abs_data_path = os.path.abspath(path)
     if not os.path.exists(abs_data_path):
-        abs_data_path = '/opt/uberwriter/data/'
+        abs_data_path = '/usr/share/uberwriter/data/'
     elif not os.path.exists(abs_data_path):
         raise project_path_not_found
 
-- 
2.19.1

